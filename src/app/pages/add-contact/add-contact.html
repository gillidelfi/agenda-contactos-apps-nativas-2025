<div>
  @if(idContacto()){
    <h2>Editar contacto</h2>
  } @else {
    <h2>Nuevo contacto</h2>
  }
  <form (ngSubmit)="handleFormSubmission(newContactForm)" #newContactForm="ngForm" >
      <div>
        <label for="first-name">Nombre</label>  
        <input id = "first-name" name ="firstName" type="text" required="true" #firstname="ngModel" minlength="2" maxlength="30" ngModel >
        @if (firstname.dirty && firstname.invalid ) {
             <p class="error">El nombre es obligatorio y no puede ser una sola letra</p>}
      </div>
      <div>
          <label for="last-name">Apellido</label>  
          <input id= "last-name" name= "lastName" type="text" ngModel >
        </div>
        <div>
          <label for="phone">Telefono</label>  
          <input id="phone" name= "number"  type="text" required="true" minlength="3" maxlength="50" ngModel >
        </div>
        <div>
          <label for="email">Email</label>  
          <input id="email" name="email" type="email" maxlength="40" ngModel >
        </div>   
        <div>
          <label for="favorite">favorite</label>  
          <input id="favorite" name="isFavorite" type="checkbox" ngModel >
        </div>  
        <div>
          <label for="address">Direccion</label>  
          <input id="adress" name="address" type="text" minlength="5" ngModel >
        </div>    
        <div>
          <label for="company">Compañía</label>  
          <input id="company" name="company" type="text" minlength="2" ngModel >
        </div>       
        <div>
          <label for="image">URL imagen</label>  
          <input id="image" name="image" type="text" minlength="10" ngModel >
        </div>

        @if (errorEnBack){
          <p class="error">Error indeterminado, inetente nuevamente</p>
        }    

        @if(idContacto()){
          <button [disabled]="newContactForm.invalid || isLoading">Editar</button>
        } @else {
          <button [disabled]="newContactForm.invalid || isLoading">Crear</button>
        }
        @if(isLoading){
          <app-spinner class="loader"></app-spinner>
        }
      
  </form>
</div>
